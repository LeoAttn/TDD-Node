dist: trusty
sudo: required
language: node_js
node_js:
- lts/*
install:
- npm install
addons:
  sonarcloud: 
  organization: nokidev-github
  token:
    secure: Z6D/8KwkouB3NfPPLl9gsWjJTMJBV4Cpm7K12H8GzDCYgBN+mSLcX5aKQqZ8f9JaUOKzQV9J8POzC8aSQjrlwPf2iB8mWQYPGfxk4SiCqjf3ozmsw4D1/QGXRCw825AEiUdTLdmrGvjp+MhjCxz48hxXzFfdXuVs4sVbJmAGwOvNLtLiOGD0DBa3yAo8AW8hfB4H6duQt0ERZl74fqhY6SXydY90CtQMzQXawEyn7tJUBrmwGyCSb6iRnptWf/+hhjTUd3aqLCKPzLUKo33VerNnrbPUtOSnipKGSgWt0HZoqTRWHX1e5dXlzMY7ZH6jRoKzl+CC6qmHXSkYx/RmnW3zTKxWPiKJfSiicYcsu5I41pawi806I7m0i8SrL9Rudjadbb3NZXeM4M1HYOsZtMkOSaz9X7nDtOpHErWNvr7HJmC5VbYgqwqK0/YBtvQAohImdvthHfdLosamjYT8qc8qfNFix4ZROVTPmYpHEjPmDEnubEzPn+HbQFpv7tJsXzaifVi2a6W5jD/XnzpghVAnuO0UjXx6P5McaX13zYizuQTlHbW5vuRahVWkU7D29vgWBEIugWkParhFBawgjNYYZ1U0pqAiH0Hbt91O73z2f4vV7guw2zaRUltnmijXkN32G56s/N8qGm+PNGy1h9h2V8guKRBwHW4JhpS6DdI=
jdk:
  - oraclejdk8
script:
- sonar-scanner
- npm run test
cache:
  directories:
    - '$HOME/.sonar/cache'
deploy:
  provider: heroku
  api_key:
    secure: OHahm2eonGywakMMZRCgn/MGoiONJHU4QLPynSqFJKmz1olICI0THgiM3exrSq1Zu34JwS0JWN5AENraBzXWtLyFT+U7P0secTZaUVrPugtcISHIjb3HeclLaZCerqypfZb60LTNas6Q9COOYhJ+GUzDCWm1ptI+HEIB6qE6lUAOjvVC2tenthJG53l/Q+YOjomsnv6Eagd1IqoAS5ybS8RsElCl14Gk5//Zvy/bzUDj7NJAGsCesPb3o3ekJMPxjVCVjB+wPs248o3870px/YaPsFTKm/5X7ZcK4FfzaFB+jRSZ4vVLhwzHDKsp3zo/PSBJ8lqwEmQZx6YMmd+adzsbfN2QOZKcmhbsEZ994FU6ltjWaRCYOk9okJ6UQZhlGrUv0mFUJCSaMbmA34cAZwDm+hfKKLZu2H7dHgQHF3ttvlJCSPZq7ayT2PaniQXxCGGgVyyC7xXLVLXPACr7gX7b5yC6NltqsrL+4sneEZs6HXBGFXi8NlWcDIJaPI8sA9+b4tq+tG6SLaDR8o6p4We+OhNdEAfmOaGh3SfxP24EFU9iYo/RsLQLqrV/9vnOwO5Da6X8SU9MqJ2vXFCccLc9mEyW4c7f8FdSydSC06jkbHiobEBk6A9cVXe0BIDBKFDdglLuyyOCmw5+w/s3xaDuRvcbYCjQqLQADPT+v8Y=
  app:
    devel: koekdevel
    master: koekstaging
    production: koekprod
  run:
  - npm install -g nodemon
  - npm install
